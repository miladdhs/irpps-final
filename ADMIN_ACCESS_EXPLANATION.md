# ุชูุถุญุงุช ุณุณุชู ุฏุณุชุฑุณ ูุฏุฑุช

## ฺุทูุฑ ฺฉุงุฑ ูโฺฉููุ

### 1. ุชูุงูุช ฺฉุงุฑุจุฑ ุนุงุฏ ู Admin

#### ฺฉุงุฑุจุฑ ุนุงุฏ (is_staff = False):
- โ ูโุชููู ูุงุฑุฏ ุณุงุช ุจุดู
- โ ูโุชููู ูพุฑููุงู ุฎูุฏุด ุฑู ุจุจูู ู ูุฑุงุด ฺฉูู
- โ ูโุชููู ุฏุฑ ุฑูุฏุงุฏูุง ุซุจุชโูุงู ฺฉูู
- โ ูโุชููู ุงุฎุจุงุฑ ู ุฑูุฏุงุฏูุง ุฑู ุจุจูู
- โ **ููโุชููู** ูพูู ูุฏุฑุช ุฑู ุจุจูู
- โ **ููโุชููู** ุงุฎุจุงุฑุ ุงุทูุงุนูโูุง ู ุฑูุฏุงุฏูุง ุฑู ุงุถุงูู/ูุฑุงุด/ุญุฐู ฺฉูู
- โ **ููโุชููู** ุงุนุถุง ุฑู ุชุงุฏ ุง ุฑุฏ ฺฉูู

#### ฺฉุงุฑุจุฑ Admin (is_staff = True):
- โ ููู ุฏุณุชุฑุณโูุง ฺฉุงุฑุจุฑ ุนุงุฏ
- โ **ูโุชููู** ูพูู ูุฏุฑุช ุฑู ุจุจูู
- โ **ูโุชููู** ุงุฎุจุงุฑ ุฌุฏุฏ ุงุถุงูู ฺฉูู
- โ **ูโุชููู** ุงุทูุงุนู ุฌุฏุฏ ุงุถุงูู ฺฉูู
- โ **ูโุชููู** ุฑูุฏุงุฏ ุฌุฏุฏ ุงุถุงูู ฺฉูู
- โ **ูโุชููู** ูุญุชูุง ููุฌูุฏ ุฑู ูุฑุงุด ุง ุญุฐู ฺฉูู
- โ **ูโุชููู** ุฏุฑุฎูุงุณุชโูุง ุนุถูุช ุฑู ุชุงุฏ ุง ุฑุฏ ฺฉูู

---

## ฺุทูุฑ ุชุดุฎุต ุฏุงุฏู ูุดูุ

### ุฏุฑ Backend (Django):
```python
# ููุฏ is_staff ุฏุฑ ูุฏู User
user.is_staff = True  # Admin
user.is_staff = False # ฺฉุงุฑุจุฑ ุนุงุฏ
```

### ุฏุฑ Frontend (Vue.js):
```javascript
// ุฏุฑ auth store
authStore.isAdmin  // true ุจุฑุง adminุ false ุจุฑุง ฺฉุงุฑุจุฑ ุนุงุฏ
```

---

## ฺฉุฌุงูุง ฺฺฉ ูุดูุ

### 1. ุฏุฑ Router (frontend/src/router/index.ts):
```javascript
{
  path: '/admin',
  meta: { requiresAuth: true, requiresAdmin: true }
}
```
ุงฺฏุฑ ฺฉุงุฑุจุฑ ุนุงุฏ ุจุฎูุงุฏ ุจู `/admin` ุจุฑูุ ุจู ุตูุญู ุงุตู redirect ูุดู.

### 2. ุฏุฑ Dashboard (frontend/src/views/Dashboard.vue):
```vue
<div v-if="authStore.isAdmin">
  <!-- ูพูู ูุฏุฑุช ููุท ุจุฑุง admin ููุงุด ุฏุงุฏู ูุดู -->
</div>
```

### 3. ุฏุฑ ููู ุงุตู (frontend/src/App.vue):
```vue
<router-link v-if="isLoggedIn && authStore.isAdmin" to="/admin">
  ูพูู ูุฏุฑุช
</router-link>
```
ุฏฺฉูู ูพูู ูุฏุฑุช ููุท ุจุฑุง admin ููุงุด ุฏุงุฏู ูุดู.

### 4. ุฏุฑ Backend APIs:
```python
@login_required
@user_passes_test(is_staff)
def news_create(request):
    # ููุท ฺฉุงุฑุจุฑุงู staff ูโุชููู ุฎุจุฑ ุฌุฏุฏ ุงุถุงูู ฺฉูู
```

---

## ูุซุงูโูุง ุนูู

### ูุซุงู 1: ฺฉุงุฑุจุฑ ุนุงุฏ ูุงุฑุฏ ูุดู
1. ูุงุฑุฏ ุณุงุช ูุดู ุจุง username ู password
2. ุจู Dashboard ูุฑู
3. **ููุท** ุงุทูุงุนุงุช ุดุฎุต ุฎูุฏุด ุฑู ูโุจูู
4. ุฏฺฉูู "ูพูู ูุฏุฑุช" ุฑู **ููโุจูู**
5. ุงฺฏุฑ ุฏุณุช ุขุฏุฑุณ `/admin` ุฑู ูุงุฑุฏ ฺฉููุ ุจู ุตูุญู ุงุตู redirect ูุดู

### ูุซุงู 2: Admin ูุงุฑุฏ ูุดู
1. ูุงุฑุฏ ุณุงุช ูุดู ุจุง username ู password
2. ุจู Dashboard ูุฑู
3. ุงุทูุงุนุงุช ุดุฎุต ุฎูุฏุด ุฑู ูโุจูู
4. ฺฉ ุจุงฺฉุณ ุจููุด "ูพูู ูุฏุฑุช" ุฑู **ูโุจูู**
5. ุฏุฑ ููู ุจุงูุง ุณุงุช ุฏฺฉูู "ูพูู ูุฏุฑุช" ุฑู **ูโุจูู**
6. ูโุชููู ุจู `/admin` ุจุฑู ู ูุญุชูุง ุฑู ูุฏุฑุช ฺฉูู

---

## ฺุทูุฑ ฺฉ ฺฉุงุฑุจุฑ ุฑู Admin ฺฉููุ

### ุฑูุด 1: ุงุณฺฉุฑูพุช (ุชูุตู ูโุดู)
```bash
cd backend
./make_user_staff_server.sh username
```

### ุฑูุด 2: Django Shell
```bash
cd backend
python3 manage.py shell
```
```python
from django.contrib.auth import get_user_model
User = get_user_model()
user = User.objects.get(username='username')
user.is_staff = True
user.save()
```

### ุฑูุด 3: Django Admin Panel
ุงฺฏุฑ ฺฉ superuser ุฏุงุฑุฏ:
1. ุจู `/admin/` ุจุฑูุฏ
2. Users โ ูุฒุฑ ููุฑุฏ ูุธุฑ
3. ฺฺฉโุจุงฺฉุณ "Staff status" ุฑู ูุนุงู ฺฉูุฏ

---

## ฺุทูุฑ ุฏุณุชุฑุณ Admin ุฑู ุจฺฏุฑูุ

ูููู ุฑูุดโูุง ุจุงูุง ูู `is_staff = False` ฺฉูุฏ:

```python
user.is_staff = False
user.save()
```

---

## ุงููุช

### ฺฺฉโูุง ุงููุช ููุฌูุฏ:

1. **Router Guard**: ุฌูู ุฏุณุชุฑุณ ูุณุชูู ุจู URLูุง admin ุฑู ูโฺฏุฑู
2. **Backend Decorator**: APIูุง ููุท ุจุฑุง staff ูุงุจู ุฏุณุชุฑุณ ูุณุชู
3. **Frontend Conditional Rendering**: ุฏฺฉููโูุง ู ููฺฉโูุง ููุท ุจุฑุง admin ููุงุด ุฏุงุฏู ูุดู
4. **Session-based Auth**: ุงุญุฑุงุฒ ููุช ุจุง session ู cookie

### ูฺฉุงุช ุงููุช:

- โ ุญุช ุงฺฏุฑ ฺฉุงุฑุจุฑ ุนุงุฏ ฺฉุฏ frontend ุฑู ุชุบุฑ ุจุฏู ู ุฏฺฉููโูุง ุฑู ูุดูู ุจุฏูุ Backend ุงุฌุงุฒู ููุฏู
- โ ุญุช ุงฺฏุฑ ฺฉุงุฑุจุฑ ุนุงุฏ ุฏุณุช ุจู `/admin` ุจุฑูุ Router ุงุฌุงุฒู ููุฏู
- โ ุญุช ุงฺฏุฑ ฺฉุงุฑุจุฑ ุนุงุฏ ูุณุชูู API ุฑู ุตุฏุง ุจุฒููุ Backend ุฎุทุง 403 Forbidden ูุฏู

---

## ุชุณุช ฺฉุฑุฏู

### ุชุณุช 1: ฺฉุงุฑุจุฑ ุนุงุฏ
1. ฺฉ ูุฒุฑ ุฌุฏุฏ ุจุณุงุฒุฏ (ุจุฏูู is_staff)
2. ูุงุฑุฏ ุดูุฏ
3. ุจุงุฏ ููุท Dashboard ุนุงุฏ ุฑู ุจุจูุฏ
4. ูุจุงุฏ ุฏฺฉูู "ูพูู ูุฏุฑุช" ุฑู ุจุจูุฏ

### ุชุณุช 2: Admin
1. ูุฒุฑ admin ุฑู staff ฺฉูุฏ
2. ูุงุฑุฏ ุดูุฏ
3. ุจุงุฏ ุฏฺฉูู "ูพูู ูุฏุฑุช" ุฑู ุจุจูุฏ
4. ุจุงุฏ ุจุชููุฏ ุงุฎุจุงุฑุ ุงุทูุงุนูโูุง ู ุฑูุฏุงุฏูุง ุฑู ูุฏุฑุช ฺฉูุฏ

### ุชุณุช 3: ุงููุช
1. ุจุง ฺฉุงุฑุจุฑ ุนุงุฏ ูุงุฑุฏ ุดูุฏ
2. ุฏุณุช ุขุฏุฑุณ `/admin` ุฑู ูุงุฑุฏ ฺฉูุฏ
3. ุจุงุฏ ุจู ุตูุญู ุงุตู redirect ุจุดุฏ
4. ุจุง Developer Tools ูุณุชูู API ุฑู ุตุฏุง ุจุฒูุฏ
5. ุจุงุฏ ุฎุทุง 403 ุจฺฏุฑุฏ

---

## ุณูุงูุงุช ูุชุฏุงูู

**ุณ: ฺูุฏ ููุฑ ูโุชููู Admin ุจุงุดูุ**
ุฌ: ูุฑ ุชุนุฏุงุฏ ฺฉู ุจุฎูุงุฏ! ูุญุฏูุฏุช ูุณุช.

**ุณ: ุขุง Admin ูโุชููู Admin ุฏฺฏูโุง ุจุณุงุฒูุ**
ุฌ: ููุ ููุท ุงุฒ ุทุฑู Django Shell ุง superuser ูุดู.

**ุณ: ุชูุงูุช is_staff ู is_superuser ฺูุ**
ุฌ: 
- `is_staff`: ุฏุณุชุฑุณ ุจู ูพูู ูุฏุฑุช ูุฑุงูุชโุงูุฏ
- `is_superuser`: ุฏุณุชุฑุณ ฺฉุงูู ุจู Django Admin ู ุชูุงู ุจุฎุดโูุง

**ุณ: ุงฺฏุฑ ูุฒุฑ Admin ุฑู ุบุฑูุนุงู ฺฉูู ฺ ูุดูุ**
ุฌ: ุฏุณุชุฑุณโูุง ูุฏุฑุชโุงุด ุฑู ุงุฒ ุฏุณุช ูุฏู ูู ูููุฒ ูโุชููู ูุงุฑุฏ ุณุงุช ุจุดู.

**ุณ: ุขุง Admin ูโุชููู ุงุทูุงุนุงุช ฺฉุงุฑุจุฑุงู ุฏฺฏู ุฑู ุจุจููุ**
ุฌ: ุจููุ ุฏุฑ ุจุฎุด "ูุฏุฑุช ุงุนุถุง" ูโุชููู ูุณุช ุงุนุถุง ู ุฏุฑุฎูุงุณุชโูุง ุนุถูุช ุฑู ุจุจูู.

---

## ุฎูุงุตู

โ **ฺฉุงุฑุจุฑ ุนุงุฏ**: ููุท ูโุชููู ุงุฒ ุณุงุช ุงุณุชูุงุฏู ฺฉูู  
โ **Admin (is_staff)**: ูโุชููู ูุญุชูุง ุฑู ูุฏุฑุช ฺฉูู  
โ **Superuser**: ุฏุณุชุฑุณ ฺฉุงูู ุจู ููู ฺุฒ  

ุจุฑุง ุชุจุฏู ูุฒุฑ ุจู Admin:
```bash
cd backend
./make_user_staff_server.sh username
```

ุจุนุฏ ุงุฒ ุชุจุฏูุ ุญุชูุงู ุงุฒ ุณุงุช ุฎุงุฑุฌ ุดูุฏ ู ุฏูุจุงุฑู ูุงุฑุฏ ุดูุฏ! ๐
