# راهنمای ساده - چیکار باید بکنم؟

## مشکل شما
الان با یوزر `admin` وارد سایت شدید ولی نمی‌تونید اخبار، اطلاعیه‌ها و رویدادها رو مدیریت کنید.

## راه‌حل
من تمام کدهای لازم رو نوشتم. فقط باید این مراحل رو انجام بدید:

---

## مرحله 1️⃣: فایل‌ها رو به سرور بفرستید

### اگر از Git استفاده می‌کنید:
```bash
# روی کامپیوتر خودتون
git add .
git commit -m "Add admin panel"
git push

# روی سرور
cd /path/to/project
git pull
```

### اگر از FTP استفاده می‌کنید:
تمام فایل‌های پروژه رو آپلود کنید (یا فقط فایل‌هایی که تغییر کردن)

---

## مرحله 2️⃣: یوزر admin رو فعال کنید

روی سرور این دستورات رو اجرا کنید:

```bash
cd /path/to/project/backend

# اجرایی کردن اسکریپت
chmod +x make_user_staff_server.sh

# اجرا
./make_user_staff_server.sh admin
```

باید پیغام موفقیت ببینید: `✓ User 'admin' is now a staff member!`

---

## مرحله 3️⃣: سایت رو ری‌استارت کنید

### اگر از Docker استفاده می‌کنید:
```bash
cd /path/to/project
docker-compose restart
```

### اگر بدون Docker هستید:
```bash
# Frontend رو بیلد کنید
cd frontend
npm run build

# Backend رو ری‌استارت کنید
sudo systemctl restart your-django-service
```

---

## مرحله 4️⃣: تست کنید

1. از سایت **خارج شوید** (Logout)
2. دوباره با یوزر `admin` **وارد شوید**
3. حالا باید این بخش‌ها رو ببینید:
   - 📰 **مدیریت اخبار**
   - 📢 **مدیریت اطلاعیه‌ها**
   - 📅 **مدیریت رویدادها**
   - 👥 **مدیریت اعضا**

---

## اگر کار نکرد چیکار کنم؟

### مشکل 1: هنوز پنل مدیریت رو نمی‌بینم
✅ **راه‌حل:**
- از سایت خارج شوید و دوباره وارد شوید
- Cache مرورگر رو پاک کنید (Ctrl+Shift+Delete)
- مطمئن شوید اسکریپت مرحله 2 اجرا شده

### مشکل 2: اسکریپت کار نمی‌کنه
✅ **راه‌حل:** دستی انجام بدید:
```bash
cd /path/to/project/backend
python3 manage.py shell
```

بعد این کدها رو کپی کنید:
```python
from django.contrib.auth import get_user_model
User = get_user_model()
user = User.objects.get(username='admin')
user.is_staff = True
user.is_active = True
user.save()
print("Done!")
exit()
```

### مشکل 3: خطای 404 می‌گیرم
✅ **راه‌حل:**
- مطمئن شوید فایل‌ها آپلود شدن
- Backend رو ری‌استارت کنید
- Frontend رو بیلد کنید

---

## چک‌لیست سریع

قبل از تماس برای پشتیبانی، این موارد رو چک کنید:

- ✅ فایل‌ها به سرور آپلود شدن؟
- ✅ اسکریپت مرحله 2 اجرا شد؟
- ✅ سایت ری‌استارت شد؟
- ✅ از سایت خارج شدم و دوباره وارد شدم؟
- ✅ Cache مرورگر رو پاک کردم؟

---

## نکات مهم

⚠️ **حتماً از سایت خارج شوید و دوباره وارد شوید** - این خیلی مهمه!

⚠️ **Cache مرورگر رو پاک کنید** - گاهی مرورگر صفحه قدیمی رو نشون میده

⚠️ **Backend رو ری‌استارت کنید** - تغییرات Python بدون ری‌استارت اعمال نمیشن

---

## بعد از موفقیت

وقتی همه چی کار کرد، می‌تونید:

1. **اخبار جدید اضافه کنید**: `/admin/news`
2. **اطلاعیه جدید اضافه کنید**: `/admin/announcements`
3. **رویداد جدید اضافه کنید**: `/admin/events`
4. **اعضا رو مدیریت کنید**: `/admin/members`

هر کدوم از این صفحات یک فرم کامل دارن که می‌تونید:
- محتوای جدید اضافه کنید
- محتوای موجود رو ویرایش کنید
- محتوای قدیمی رو حذف کنید
- وضعیت انتشار رو تغییر بدید

---

## سوالات متداول

**س: چرا باید از سایت خارج شم و دوباره وارد شم؟**
ج: چون اطلاعات کاربری شما در session ذخیره شده و باید بروزرسانی بشه.

**س: چند نفر می‌تونن staff باشن؟**
ج: هر تعداد که بخواید! فقط اسکریپت رو با username اونها اجرا کنید.

**س: تفاوت staff و superuser چیه؟**
ج: staff فقط به پنل مدیریت فرانت‌اند دسترسی داره، superuser به Django Admin هم دسترسی داره.

**س: می‌تونم دسترسی staff رو از کسی بگیرم؟**
ج: بله، همون اسکریپت رو اجرا کنید و `is_staff = False` کنید.

---

موفق باشید! 🚀

اگر مشکلی پیش اومد، فایل `ADMIN_PANEL_SETUP.md` رو بخونید که توضیحات کامل‌تری داره.
